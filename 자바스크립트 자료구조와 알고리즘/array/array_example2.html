<!--
*
*	자바스크립트 자료구조와 알고리즘
*	제작자 : 박경두
*	최종 수정일 : 2016-06-10
*
*
*
*
-->
<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>ECMAScript</title>
</head>
<body>
	
	<script>
		//할당 문에 []를 이용해 배열 요소에 값을 할당할 수 있다. 예를 들어 다음은 1부터 100까지 숫자를 배열에 할당하는 루프이다.

		var arr = [];

		for(var i=0; i < 100; ++i){
			arr[i] = i+1;
		};

		console.log(arr);

		//다음 예제처럼 [] 기호를 이용해 배열 요소에 접근할 수 있다.
		
		var numbers = [1,2,3,4,5];
		var sum = numbers[0] + numbers[1] + numbers[2] + numbers[3] + numbers[4];
		console.log(sum);

		//물론 for문을 이용하면 좀 더 쉽게 모든 배열 요소에 순차적으로 접근할 수 있다.
		
		var numbers2 = [1,2,3,4,5,6,7,8,9,10];
		var sum2 = 0;
		for(var i=0; i < numbers2.length; ++i){
			sum2 += numbers2[i];
		}
		console.log(sum2);

		//for문에서 숫자 대신 length 프로퍼티를 이용했다. 자바스크립트 배열은 객체이므로 배열을 만든 이후에도 언제든지 크기가 늘어날 수 있다. 
		//따라서 length 프로퍼티를 이용하면 현재 배열의 실제 요소 수가 정확하게 반환되므로 언제나 배열의 모든 요소에 접근할 수 있다.

		//문자열로 배열 만들기
		//문자열에 split() 함수를 호출하면 배열이 생성된다. split() 함수는 문자열을 특정 구분자로 분리한 다음 분리된 문자열을 포함하는 배열을 만든다.
		var sentence = 'No one else like you';
		var sentenceSplit = sentence.split(' ');
		for(var i = 0; i < sentenceSplit.length; ++i) {
			console.log('word ' + i + ' :' + sentenceSplit[i]);
		}

		//배열 전체에 적용되는 기능도 있다. 배열을 다른 배열로 할당할 수 있다.
		//
		var nums = [];
		for(var i = 0; i < 10; ++i) {
			nums[i] = i+1;
		};
		var sameNums = nums;
		console.log(sameNums);

		//배열을 다른 배열로 할당할 때 실제로는 할당된 배열의 레퍼런스를 할당하는 것이다.
		//따라서 원래 배열을 바꾸면 할당된 배열도 바뀐다.

		var nums2 = [];
		for(var i=0; i < 100; ++i) {
			nums2[i] = i + 1;
		};

		var sameNums2 = nums2;
		nums2[0] = 400;
		console.log(sameNums2); //400 출력

		//이와 같은 동작을 얕은 복사(shallow copy)라고 한다.
		//새로 할당된 배열은 단순히 원래 배열의 요소를 가리킬 뿐이다.
		//shallow copy보다는 깊은 복사(deep copy) 즉, 원래 배열 요소를 새로운 배열 요소로 복사하는 기능이 필요할 때가 있다.

		function copy(arr1, arr2) {
			for(var i=0; i < arr1.length; ++i){
				arr2[i] = arr1[i];
			}
		};

		var nums3 = [];
		for(var i=0; i < 100; ++i) {
			nums3[i] = i + 1;
		}

		var sameNums3 = [];
		copy(nums3, sameNums3);
		nums3[0] = 400;
		console.log(sameNums3); //1 출력

		//이로써 shallow copy와 deep copy의 차이를 알 수 있다.
	</script>
</body>
</html>