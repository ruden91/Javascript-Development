<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>grayCodeTest</title>
</head>
<body>

	<script>
	//정보처리기사 그레이코드 test
	//input 앞부분이 1이면 그레이코드 -> 2진수 -> 10진수 출력
	//input 앞부분이 0이면 2진수 -> 그레이코드 변환 -> 그레이코드 출력
		function grayCodeTest() {
			var input = []; //input 배열 초기화
			var gray = [0,0,0,0]; //gray 배열 초기화
			var binary = [0,0,0,0]; //2진수 배열 초기화
			var decimal = 0; //2진수 -> 10진수 변환값 저장변수 초기화

			for(var i = 0; i < 5; ++i) {
				input[i] = Math.round(Math.random() * 1); //input 배열에 2진수 난수 5개 생성
			}
			//console.log(input); //test해보면 난수가 생성됨을 확인할 수 있다.

			//만약 input 앞부분이 1이라면 그레이코드 -> 2진수 -> 10진수 출력
			if(input[0] == 1) {
				binary[0] = input[1]; //2진수 첫번 째 값은 그대로 내려온다 고로 input[1]의 값을 할당
				//루프를 돌린다. 첫번 째 2진수 값은 input의 다음 값과 비교한다. 
				for(var j = 0; j < 3; ++j) {
					if(binary[j] == input[j+2]) {
						binary[j+1] = 0;
					} else {
						binary[j+1] = 1;
					}
					console.log(binary[j]);
				}//그레이코드에서 2진수로 변환한 후 이제 10진수로 변환 후 출력하는 단계가 필요하다.

				for(var h = 0; h < 4; ++h) {
					decimal = decimal + (binary[h] * Math.pow(2, (3-h)));
				}
			} else {
				gray[0] = input[1];
				for(var k = 0; k < 3; ++k) {
					if(input[k+1] == input[k+2]) {
						gray[j+1] = 0;
					} else {
						gray[j+1] = 1;
					}
				}//2진수에서 그레이코드로 변환할 때는 input[k] - input[k+1] 비교
			}

			console.log(input);
			console.log(decimal);
		
		}

	</script>
</body>
</html>