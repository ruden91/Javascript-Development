<!--
*
*	자바스크립트 자료구조와 알고리즘
*	제작자 : 박경두
*	최종 수정일 : 2016-06-10
*
*
*
*
-->
<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>ECMAScript</title>
</head>
<body>
	
	<script>
		//변형자 함수
		//자바스크립트는 개별적으로 요소를 건드리지 않고 배열 전체 내용을 고치는 여러 변형자 함수(mutator function)을 제공한다.
		//이 함수를 잘 활용하면 어려운 문제도 쉽게 해결할 수 있다.

		//배열에 요소 추가하기
		//push() 함수, unshift() 함수는 각각 배열에 요소를 추가하고, 배열의 요소를 제거하는 함수다.
		//push() 함수는 배열의 끝에 요소를 추가한다.
		
		var nums = [1,2,3,4,5];
		console.log(nums);
		nums.push(6);
		console.log(nums);

		//length 프로퍼티를 이용해 배열을 확장하는 것보다 push() 함수를 이용하는 것이 더 직관적이다.
		var nums2 = [1,2,3,4,5];
		console.log(nums2);
		nums2[nums.length] = 6;
		console.log(nums2);

		//배열의 처음에 요소를 추가할 때 변형자 함수가 없다면 배열에 있던 기존의 모든 요소를 한 칸씩 뒤로 이동시킨 다음 새 데이터를 추가해야 한다. 
		//아마도 다음과 같은 코드로 배열의 처음에 요소를 추가할 수 있을 것이다.

		var nums3 = [2,3,4,5,6,7,8,9];
		var newnum = 1;
		var N = nums3.length;
		for(var i = N; i >= 0; --i) {
			nums3[i] = nums3[i-1];
		}

		nums3[0] = newnum;
		console.log(nums3);

		//배열에 저장된 요소의 수가 많을수록 위 코드는 효율성이 매우 떨어진다.
		//unshift() 변형자 함수는 이런 고민을 간단하게 해결해준다.

		var nums4 = [2,3,4,5];
		console.log(nums4);
		var newnum = 1;
		nums4.unshift(newnum);
		console.log(nums4);
		nums4 = [3,4,5];
		nums4.unshift(newnum,2);
		console.log(nums4);
		//두 번째 unshift() 호출 코드는 한 번에 여러 요소를 배열 앞으로 추가할 수 있음을 보여준다.

		//배열의 요소 삭제하기
		//pop() 변형자 함수를 이용하면 간단하게 배열의 마지막 요소를 제거할 수 있다.

		var nums5 = [1,2,3,4,5,9];
		nums5.pop();
		console.log(nums5);
		//배열의 앞 요소를 제거할 때 변형자 함수가 없다면 배열의 앞 요소를 제거한 다음 나머지 요소를 앞으로 이동시켜야 한다.
		//결국 배열 앞에 요소를 추가할 때와 마찬가지로 비효율적인 동작을 수행하게 한다.

		var nums6 = [9,1,2,3,4,5];
		console.log(nums6);
		for(var i=0; i < nums6.length; ++i) {
			nums6[i] = nums6[i+1];
		}
		console.log(nums6);
		//제거된 요소의 자리를 채우느라 나머지 모든 요소를 이동시키고 나면 맨 끝에는 불필요한 값이 저장된다.
		//배열의 내용을 출력했을 때 마지막 콤마가 출력되는 것으로 이 사실을 알 수 있다.
		//shift() 함수를 이용하면 간단히 배열의 맨 처음 요소를 제거할 수 있다.
		var nums6 = [9,1,2,3,4,5];
		nums6.shift();
		console.log(nums6);

		//배열의 끝에 불필요한 요소가 없어졌음을 알 수 있다. pop() 함수, shift() 함수는 제거된 요소를 반환! 하므로 필요하다면 반환된 요소를 변수에 저장할 수 있다.
		var nums6 = [9,1,2,3,4,5];
		var first = nums6.shift();
		nums6.push(first);
		console.log(nums6);
	</script>
</body>
</html>