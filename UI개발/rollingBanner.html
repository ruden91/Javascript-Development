<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title></title>

    <style>
        .rolling-banner {
            position: relative;
            width: 423px;
            height: 296px;
            /*  테스트를 위해 주석 처리*/
            overflow:hidden;
            border: 2px solid #000;
        }

        .rolling-banner img {
            position: absolute;
            top: 0;
            left: 0;
        }

        #banner1 {
            margin: 0 auto;
        }
    </style>

    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script type="text/javascript">

        //jQuery 시작점
        $(function() {
            var rolling1 = new RollingBanner();
        })

        //RollingBanner 생성자 생성
        function RollingBanner() {
            //프로퍼티 생성 및 초기화
            this._$banners = null;
            this._currentIndex = 0;
            this._timerID = -1;

            this._init();
            this._initBannerPos();
            this._startAutoPlay();
        }

        //요소 초기화
        RollingBanner.prototype._init = function() {
            this._$banners = $('#banner1 img');
        }

        //배너 위치 초기화
        RollingBanner.prototype._initBannerPos = function() {

            //배너 위치를 화면에서 보이지 않게 숨기기
            this._$banners.css('left', 423);

            //0번째 배너 활성화
            this._$banners.eq(this._currentIndex).css('left', 0);
        }

        RollingBanner.prototype._startAutoPlay = function() {
            var objThis = this;

            //타이머가 두번 이상 실행되지 않게 조건 처리
            if(this._timerID == -1) {
                this._timerID = setInterval(function() {
                    objThis.nextBanner();
                }, 2000);
            }
        }

        //다음 배너 활성화
        RollingBanner.prototype.nextBanner = function() {

            //이전 배너 구하기
            var $outBanner = this._$banners.eq(this._currentIndex);

            //다음 배너 index값 구하기
            this._currentIndex++;

            //마지막 배너까지 롤링한 경우 다시 0번째부터 롤링될 수 있게 인덱스 값을 0으로 설정
            if(this._currentIndex >= this._$banners.length) {
                this._currentIndex = 0;
            }

            //다음 배너 구하기
            var $inBanner = this._$banners.eq(this._currentIndex);

            //다음 배너 위치 초기화
            $inBanner.css({
                left : 423,
                opacity : 0
            })

            //현재 배너 사라지게 하기
            $outBanner.stop().animate({
                left : -423,
                opacity : 0
            }, 600);

            //다음 배너 나타나게 하기
            $inBanner.stop().animate({
                left : 0,
                opacity : 1
            }, 600)
        }
    </script>
</head>

<body>
    <div class="rolling-banner" id="banner1">
        <img src="img/main1.PNG">
        <img src="img/main2.PNG">
        <img src="img/main3.PNG">
        <img src="img/main4.PNG">

    </div>
</body>
</html>

