<!--
*
*	자바스크립트 자료구조와 알고리즘
*	제작자 : 박경두
*	최종 수정일 : 2016-06-11
*
*
*
*
-->
<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>ECMAScript</title>
</head>
<body>
	
	<script>
		//자바스크립트는 기본적으로 일차원 배열만 지원한다.
		//하지만 배열의 배열을 이용해 다차원 배열을 만들 수 있다.

		//이차원 배열 만들기
		//이차원 배열은 행과 열을 가진 스프레드시트 같은 구조다.
		//자바스크립트에서 이차원 배열을 만들려면 배열을 만든 다음 각 요소를 배열로 만들어야 한다.
		//최소한 배열의 행 개수를 알아야 이차원 배열을 만들 수 있다.
		var twod = [];
		var rows = 5;
		for(var i = 0; i < rows; ++i) {
			twod[i] = [];
		}
		console.log(twod);

		//앞과 같은 방법으로 이차원 배열을 만들면 배열의 모든 요소가 undefined로 설정된다는 단점이 있다.
		//실용적인 이차원 배열을 만들어보자.

		Array.matrix = function(numrows, numcols, initial) {
			var arr = [];
			for(var i = 0; i < numrows; ++i) {
				var columns = [];
				for(var j = 0; j < numcols; ++j) {
					columns[j] = initial;
				}
				arr[i] = columns;
			}
			return arr;
		}

		var nums = Array.matrix(5,5,0);
		console.log(nums[1][1]);
		var names = Array.matrix(3,3,'');
		names[1][2] = '박경두';
		console.log(names[1][2]);

		//이차원 배열로 표현할 수 있는 간단한 데이터 집합을 만들 때는 다음의 코드로 가장 쉽게 이차원 배열을 만들 수 있다.

		var grades = [[89,87,77], [76,82,81], [91, 94, 89]];
		console.log(grades[2][2]);

		//이차원 배열 요소는 기본적으로 두 가지 주요 패턴으로 처리한다.
		//한 가지 방법은 배열의 열을 기준으로 하는 것이고
		//다른 방법은 배열의 행을 기준으로 요소를 처리하는 것이다.

		var grades = [[89,87,77], [76,82,81], [91, 94, 89]];
		var total = 0;
		var average = 0.0;
		for(var row = 0; row < grades.length; ++row) {
			for(var col = 0; col < grades[row].length; ++col) {
				total += grades[row][col];
			}

			average = total / grades[row].length;
			console.log('Student ' + parseInt(row+1) + ' average: ' + average.toFixed(2));
			total = 0;
			average = 0.0;
		}

		//내부 루프는 다음과 같은 표현식으로 제어된다. col < grades[row].length
		//각 행은 배열을 포함하므로 각 행에는 length 프로퍼티가 있으며 이는 그 행에 몇 개의 열이 있는지 알려준다.
		//각 학생의 점수 평균은 toFixed(n) 함수에 의해 소수점 두 자릿수로 반올림된다.

		//다음은 행 중심으로 이차원 배열을 처리하는 예제다.
		var grades = [[89,87,77], [76,82,81], [91, 94, 89]];
		var total = 0;
		var average = 0.0;
		for(var col = 0; col < grades.length; ++col) {
			for(var row = 0; row < grades[col].length; ++row) {
				total += grades[row][col];
			}

			average = total / grades[col].length;
			console.log('Test ' + parseInt(col + 1) + ' average : ' + average.toFixed(2));
			total = 0;
			average = 0.0;
		}

	</script>
</body>
</html>